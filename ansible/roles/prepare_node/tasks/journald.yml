- name: Ensure journald drop-in directory exists
  ansible.builtin.file:
    path: /etc/systemd/journald.conf.d
    state: directory
    owner: root
    group: root
    mode: '0755'

- name: Configure journald limits
  ansible.builtin.copy:
    dest: /etc/systemd/journald.conf.d/99-local.conf
    content: |
      SystemMaxUse=512M
      RuntimeMaxUse=256M
    owner: root
    group: root
    mode: '0644'
  notify: Restart journald

